# Manticore Search Configuration for Testing
# This configuration enables Auto Embeddings and AI Search features
# Optimized for Russian natural language queries

searchd {
    listen = 9306:mysql41
    listen = 9308:http
    log = /var/log/manticore/searchd.log
    query_log = /var/log/manticore/query.log
    pid_file = /var/run/manticore/searchd.pid
    data_dir = /var/lib/manticore
    binlog_path = /var/lib/manticore/binlog
    
    # Enable Auto Embeddings for semantic search
    auto_schema = 1
    
    # Russian language support
    charset_type = utf-8
    
    # Enhanced natural language processing
    morphology = stem_ru, soundex
    
    # Performance settings for testing
    max_matches = 10000
    seamless_rotate = 1
    preopen_indexes = 1
    unlink_old = 1
    
    # Search quality improvements
    expansion_limit = 32
    
    # Memory and performance optimizations for embeddings
    max_packet_size = 128M
    listen_backlog = 64
}

# Common settings
common {
    plugin_dir = /usr/local/lib/manticore
}